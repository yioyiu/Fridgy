# Fridgy 智能食材管理应用 V1.1.0 用户手册

## 文档说明

本文档为Fridgy智能食材管理应用V1.1.0版本的用户手册，用于软件著作权登记申请。文档详细介绍了软件的功能特性、运行环境、技术架构和使用说明，帮助用户和评审人员全面了解本软件的设计理念和技术实现。

版本信息：
软件名称：Fridgy（智能食材管理应用）
软件版本：V1.1.0
文档版本：V1.1.0
编写日期：2024年

---

## 目录

1. 软件简介
   1.1 开发背景
   1.2 软件介绍
   1.3 面向用户
   1.4 主要功能
   1.5 优势创新

2. 运行环境
   2.1 硬件要求
   2.2 软件要求

3. 软件技术
   3.1 技术栈
   3.2 架构设计
   3.3 数据模型
   3.4 软件功能

---

## 1. 软件简介

### 1.1 开发背景

在当今快节奏的现代生活中，食材管理已成为家庭和小型餐饮机构面临的重要挑战。据统计，全球每年约有13亿吨食物被浪费，其中家庭浪费占据了相当大的比例。这一现象背后反映了以下几个核心问题：

**1.1.1 食材遗忘问题**
忙碌的生活节奏导致用户经常忘记冰箱中存放的食材，特别是那些被放在角落或包装不明显的物品。许多食材在用户完全忘记其存在的情况下过期变质，造成不必要的浪费。

**1.1.2 保质期管理困难**
不同食材的保质期差异很大，用户难以准确记忆每种食材的最佳食用时间。蔬菜、水果、肉类、乳制品等各类食材的保存期限各不相同，且受存储条件影响较大，用户经常出现临期或过期食材的情况。

**1.1.3 采购重复问题**
由于不清楚现有库存情况，用户经常重复购买已有食材，造成浪费和额外支出。这种现象在大型超市购物时尤为常见，用户往往因为无法准确记忆家中已有食材而重复采购。

**1.1.4 烹饪灵感缺乏**
面对冰箱中的多种食材，用户往往缺乏创意，不知道如何搭配制作美味健康的餐食。许多食材因为用户不知道如何烹饪而被遗忘，最终过期浪费。

**1.1.5 存储方式不当**
缺乏科学的食材存储知识，导致食材提前变质。不同食材需要不同的存储条件，如温度、湿度、通风等，用户往往缺乏相关知识，导致食材保存不当。

**1.1.6 解决方案**
Fridgy智能食材管理应用正是为解决这些痛点而开发的。它通过移动端的便捷记录、智能提醒和AI建议，帮助用户建立科学的食材管理体系，显著降低浪费，提升厨房管理效率，让食材管理变得简单而有趣。

### 1.2 软件介绍

Fridgy是一款基于React Native + Expo技术栈开发的跨平台智能食材管理移动应用，支持Android与iOS双平台运行。作为一款专注于食材全生命周期管理的应用，Fridgy集成了现代移动开发的最佳实践和人工智能技术，为用户提供全方位的食材管理解决方案。

**1.2.1 核心定位**
Fridgy致力于成为用户最贴心的食材管理助手，通过智能化的管理方式，帮助用户减少食物浪费，提升生活品质。应用采用"智能+便捷"的设计理念，让食材管理从繁琐变为简单，从被动变为主动。

**1.2.2 核心功能架构**

**智能录入系统**
- 支持多种录入方式，包括手动输入、扫码识别、拍照识别、语音识别（v1.1.0新增）等
- 用户可根据不同场景选择最便捷的方式记录食材信息
- 提供快速添加模板，减少重复输入
- 支持批量导入和导出功能

**智能状态管理**
- 系统基于食材的保质期信息，结合当前时间自动计算并更新食材状态（新鲜、临期、过期、已使用）
- 为用户提供直观的视觉反馈，通过颜色标识和状态标签清晰展示食材状态
- 支持自定义状态阈值，满足不同用户的需求

**个性化提醒机制**
- 根据用户设定的提醒策略，在关键时间节点（如临期前3天、1天、到期日等）推送本地通知
- 确保用户及时处理食材，避免浪费
- 支持季节性通知（v1.1.0新增），定时推送当季水果推荐
- 支持自定义提醒时间和提醒内容

**AI智能建议引擎**
- 集成多种AI模型（如DeepSeek、Zhipu等），基于用户现有食材库存，智能生成烹饪建议、营养搭配方案和保鲜技巧
- v1.1.0新增当季水果智能推荐功能，结合季节特点提供应季食材建议
- 支持食材存储分析，提供最佳存储时间和方法建议
- 支持烹饪建议，推荐适合的菜谱和制作方法

**数据可视化分析**
- 通过图表和统计信息，帮助用户了解食材使用模式、浪费情况
- 为优化采购和存储提供数据支持
- 提供趋势分析，识别使用规律
- 支持多维度统计，包括按品类、按位置、按时间等

**语音识别系统**（v1.1.0新增）
- 支持语音输入快速添加食材
- 支持多语言识别，包括中文、英文等
- 提供实时转录和智能解析功能
- 支持Web端和移动端语音识别

**数据管理增强**（v1.1.0新增）
- 提供全面的数据清理功能
- 支持选择性清理、安全确认机制和进度可视化
- 支持数据导出和导入
- 支持数据备份和恢复

**版本管理**（v1.1.0新增）
- 自动检测版本更新
- 支持强制更新模式
- 提供应用商店跳转功能
- 支持版本更新日志展示

**交互优化**（v1.1.0新增）
- 新增滑动删除功能，提供更直观的删除交互方式
- 支持手势识别和视觉反馈
- 优化长按编辑功能
- 改进页面切换动画效果

**1.2.3 技术特色**
- 采用现代化的跨平台开发框架，确保在不同设备上的一致体验
- 支持离线使用，核心功能无需网络连接
- 数据本地存储，保护用户隐私
- 模块化架构设计，便于功能扩展和维护
- 采用TypeScript开发，提高代码质量和可维护性

### 1.3 面向用户

Fridgy的目标用户群体广泛，主要服务于以下几类用户：

**1.3.1 家庭用户群体**

**年轻家庭**
- 注重生活品质，希望通过科学管理提升家庭饮食健康水平
- 工作繁忙，需要便捷的食材管理工具
- 追求高效的生活方式，希望减少浪费

**有孩子的家庭**
- 需要管理多样化的食材，确保孩子营养均衡
- 需要记录食材信息，避免过敏等问题
- 需要智能提醒，确保食材新鲜度

**老年用户**
- 记忆力下降，需要智能提醒帮助管理食材保质期
- 操作简单，界面清晰易懂
- 需要大字体和简单操作流程

**独居用户**
- 采购量小但种类多，需要精准管理避免浪费
- 需要智能建议，帮助搭配食材
- 需要提醒功能，避免忘记食材

**1.3.2 健康饮食倡导者**

**健身人群**
- 需要精确控制食材摄入，管理蛋白质、碳水化合物等营养成分
- 需要记录食材信息，跟踪营养摄入
- 需要智能建议，优化饮食搭配

**素食主义者**
- 需要管理多种植物性食材，确保营养搭配合理
- 需要食材分类和标签功能
- 需要营养分析功能

**特殊饮食需求者**
- 如糖尿病患者、过敏体质等，需要严格管理食材选择
- 需要食材标签和备注功能
- 需要智能筛选功能

**1.3.3 小型餐饮经营者**

**家庭式餐厅**
- 需要管理食材库存，控制成本，减少浪费
- 需要批量管理功能
- 需要成本统计功能

**员工餐厅**
- 需要批量管理食材，确保食品安全和营养均衡
- 需要库存统计功能
- 需要采购建议功能

**咖啡厅/轻食店**
- 需要管理易腐食材，保持食材新鲜度
- 需要快速录入功能
- 需要提醒功能

**外卖商家**
- 需要根据订单情况合理采购和存储食材
- 需要库存管理功能
- 需要数据分析功能

**1.3.4 教育机构**

**学校食堂**
- 需要科学管理学生餐食食材，确保食品安全
- 需要批量管理功能
- 需要营养分析功能

**幼儿园**
- 需要精细管理儿童餐食，注重营养搭配
- 需要食材分类功能
- 需要营养建议功能

**1.3.5 其他用户群体**

**食材批发商**
- 需要管理库存，跟踪食材流转情况
- 需要批量管理功能
- 需要数据分析功能

**食品研究人员**
- 需要记录和分析食材数据
- 需要数据导出功能
- 需要统计分析功能

**环保意识用户**
- 希望通过减少食物浪费来保护环境
- 需要浪费统计功能
- 需要环保建议功能

### 1.4 主要功能

Fridgy提供全面的食材管理功能，涵盖从录入到使用的完整流程：

**1.4.1 智能食材管理**

**基础信息管理**
- 支持食材名称、品类分类、存放位置（冷藏/冷冻/常温）、计量单位、数量、有效期等完整信息录入
- 支持食材图片上传，便于视觉识别和记录
- 支持食材备注信息，记录特殊说明
- 支持食材标签功能，自定义分类

**图片管理**
- 支持拍照或从相册选择食材图片
- 支持多张图片上传
- 支持图片预览和删除
- 支持图片压缩，节省存储空间

**批量操作**
- 支持批量编辑、删除、移动食材
- 提高管理效率
- 支持批量状态更新
- 支持批量导出功能

**搜索与筛选**
- 提供多维度搜索功能
- 可按名称、品类、状态、位置等条件快速定位食材
- 支持模糊搜索
- 支持高级筛选功能

**1.4.2 多样化录入方式**

**手动录入**
- 提供直观的表单界面
- 支持快速输入食材信息
- 支持必填项验证
- 支持输入提示和建议

**语音录入**（v1.1.0新增）
- 支持语音输入快速添加食材
- 支持多语言识别
- 提供实时转录功能
- 支持智能解析和自动填充

**模板快速添加**
- 预设常用食材模板
- 一键添加减少重复输入
- 支持自定义模板
- 支持模板管理功能

**批量导入**
- 支持CSV格式批量导入
- 支持模板下载
- 支持导入验证和错误提示
- 支持导入预览功能

**1.4.3 智能状态监控与提醒**

**自动状态计算**
- 基于当前时间与保质期，自动计算食材状态（新鲜/临期/过期/已使用）
- 支持自定义状态阈值
- 支持状态自动更新
- 支持状态历史记录

**多级提醒策略**
- 支持设置多个提醒时间点（如临期前3天、1天、到期日等）
- 支持自定义提醒内容
- 支持提醒频率设置
- 支持提醒开关控制

**本地通知推送**
- 即使应用未运行也能及时收到提醒通知
- 支持通知声音和震动设置
- 支持通知优先级设置
- 支持通知历史记录

**季节性通知**（v1.1.0新增）
- 定时推送当季水果推荐
- 每天早上8点自动更新
- 支持手动刷新
- 支持通知开关控制

**1.4.4 数据可视化与分析**

**概览仪表板**
- 直观显示食材总数、临期数量、过期数量等关键指标
- 支持实时数据更新
- 支持数据刷新功能
- 支持数据导出功能

**品类分布图**
- 以饼图、柱状图等形式展示不同品类食材的分布情况
- 支持图表交互
- 支持图表导出
- 支持图表自定义

**时间趋势分析**
- 分析食材使用模式
- 识别浪费高峰期
- 支持多时间段对比
- 支持趋势预测

**成本统计**
- 记录食材采购成本
- 分析支出结构
- 支持成本趋势分析
- 支持预算管理功能

**营养分析**
- 基于食材信息分析营养摄入情况
- 支持营养成分统计
- 支持营养建议功能
- 支持营养目标设置

**1.4.5 AI智能建议系统**

**烹饪建议**
- 基于现有食材智能推荐菜谱
- 提供详细的制作步骤
- 支持多菜谱推荐
- 支持菜谱收藏功能

**营养搭配**
- 根据营养学原理，推荐合理的食材搭配方案
- 支持营养目标设置
- 支持营养分析功能
- 支持营养建议功能

**保鲜技巧**
- 提供针对不同食材的科学保鲜方法和存储建议
- 支持存储条件说明
- 支持存储时间建议
- 支持存储方法推荐

**采购建议**
- 分析使用模式，智能推荐需要补充的食材
- 支持采购清单生成
- 支持采购提醒功能
- 支持采购历史记录

**季节性建议**（v1.1.0新增）
- 结合时令特点，推荐应季食材和菜谱
- 支持当季水果推荐
- 支持季节菜谱推荐
- 支持季节营养建议

**存储分析**（v1.1.0新增）
- 分析食材最佳存储时间和方法
- 提供存储条件建议
- 支持存储时间预测
- 支持存储方法推荐

**1.4.6 个性化设置中心**

**字典管理**
- 自定义食材品类、计量单位、存放位置等字典内容
- 支持字典添加、编辑、删除功能
- 支持字典导入导出
- 支持字典排序功能

**提醒策略配置**
- 灵活设置不同食材的提醒时间和方式
- 支持提醒规则管理
- 支持提醒模板功能
- 支持提醒测试功能

**界面主题**
- 支持浅色/深色主题切换
- 适应不同使用环境
- 支持主题自动切换
- 支持主题自定义

**多语言支持**
- 支持中文、英文、西班牙文、法文、德文、日文、韩文、意大利文等多种语言界面
- 支持语言自动检测
- 支持语言手动切换
- 支持语言设置保存

**数据备份与同步**
- 支持数据导出、导入功能
- 支持数据备份功能
- 支持数据恢复功能
- 支持云端同步功能（可选）

**数据清理**（v1.1.0新增）
- 支持选择性数据清理
- 支持安全确认机制
- 支持进度可视化
- 支持清理历史记录

**版本管理**（v1.1.0新增）
- 自动检测版本更新
- 支持强制更新模式
- 提供应用商店跳转功能
- 支持版本更新日志展示

**应用评分**（v1.1.0新增）
- 支持应用评分功能
- 支持评分提醒
- 支持评分历史记录

### 1.5 优势创新

Fridgy在食材管理领域具有多项技术创新和用户体验优势：

**1.5.1 场景化设计理念**

**冰箱场景优化**
- 专门针对家庭冰箱和储物柜的使用场景设计
- 考虑实际使用中的空间限制和操作习惯
- 提供位置管理功能，模拟真实存储环境
- 支持多位置管理，适应不同家庭结构

**轻量化数据模型**
- 采用精简而高效的数据结构
- 减少存储空间占用，提高应用响应速度
- 支持数据压缩和优化
- 支持增量更新机制

**高频操作优化**
- 针对用户频繁的查看、编辑、搜索操作进行界面和交互优化
- 提升使用效率，减少操作步骤
- 支持快捷操作功能
- 支持操作历史记录

**零学习成本**
- 采用直观的界面设计和符合用户习惯的操作流程
- 新用户无需学习即可上手使用
- 提供操作引导和帮助文档
- 支持新手教程功能

**1.5.2 智能提醒系统**

**多维度提醒策略**
- 支持基于时间、状态、用户行为等多维度的智能提醒
- 支持自定义提醒规则
- 支持提醒优先级设置
- 支持提醒历史记录

**个性化提醒设置**
- 用户可根据个人习惯和食材特性自定义提醒时间和方式
- 支持提醒模板功能
- 支持提醒测试功能
- 支持提醒统计分析

**渐进式提醒**
- 采用渐进式提醒策略，从温和提醒到紧急提醒
- 避免用户产生抵触情绪
- 支持提醒频率控制
- 支持提醒内容自定义

**智能学习**
- 系统会学习用户的使用习惯，自动调整提醒策略
- 提高提醒的精准度
- 支持学习数据导出
- 支持学习重置功能

**1.5.3 可扩展AI架构**

**多模型支持**
- 支持集成多种AI模型（DeepSeek、Zhipu、GPT等）
- 用户可根据需求选择最适合的模型
- 支持模型切换功能
- 支持模型性能对比

**统一接口设计**
- 采用统一的API接口和提示词模板
- 确保不同AI模型的一致体验
- 支持接口扩展功能
- 支持接口版本管理

**离线AI能力**
- 支持本地AI模型，在无网络环境下也能提供基础智能建议
- 支持离线数据缓存
- 支持离线功能开关
- 支持离线数据同步

**模型热切换**
- 支持运行时切换AI模型，无需重启应用即可体验不同AI能力
- 支持模型性能监控
- 支持模型错误处理
- 支持模型降级机制

**1.5.4 数据安全与隐私保护**

**本地优先存储**
- 核心数据优先存储在本地，减少隐私泄露风险
- 支持数据加密存储
- 支持数据访问控制
- 支持数据备份功能

**加密存储**
- 敏感信息采用加密存储，确保数据安全
- 支持多种加密算法
- 支持加密密钥管理
- 支持加密性能优化

**最小权限原则**
- 只请求必要的系统权限，避免过度授权
- 支持权限说明功能
- 支持权限管理功能
- 支持权限拒绝处理

**数据控制权**
- 用户完全控制自己的数据，支持导出、删除等操作
- 支持数据所有权说明
- 支持数据使用统计
- 支持数据清理功能

**1.5.5 交互创新**

**滑动删除**（v1.1.0新增）
- 提供直观的滑动删除交互方式
- 支持手势识别和视觉反馈
- 支持删除确认功能
- 支持删除撤销功能

**语音输入**（v1.1.0新增）
- 支持语音快速录入食材
- 支持多语言识别
- 支持实时转录功能
- 支持智能解析功能

**流畅动画**
- 采用高性能动画库，支持60fps流畅动画
- 提升用户体验
- 支持动画自定义
- 支持动画性能优化

**响应式设计**
- 适配不同屏幕尺寸和设备类型
- 支持横竖屏切换
- 支持多设备同步
- 支持自适应布局

---

## 2. 运行环境

### 2.1 硬件要求

Fridgy对硬件要求相对较低，能够适配大多数主流移动设备：

**2.1.1 设备兼容性**

**Android设备**
- 支持Android 8.0（API 26）及以上版本的智能手机和平板电脑
- 推荐配置：4GB RAM，64GB存储空间
- 最低配置：2GB RAM，32GB存储空间
- 屏幕分辨率：支持720p及以上分辨率，推荐1080p或更高
- 支持架构：ARM64-v8a、ARMv7、x86_64

**iOS设备**
- 支持iOS 13.0及以上版本的iPhone和iPad
- iPhone：支持iPhone 6s及以上机型
- iPad：支持iPad Air 2及以上机型
- 推荐配置：3GB RAM，64GB存储空间
- 最低配置：2GB RAM，32GB存储空间
- 支持架构：ARM64

**2.1.2 存储空间要求**

**应用安装**
- 约50-80MB（包含核心功能模块）
- 包含所有必要的库和资源文件
- 支持应用更新和增量下载

**用户数据**
- 基础使用：约10-50MB（纯文本数据）
- 图片存储：每张图片约1-5MB，建议预留200-500MB
- 缓存数据：约20-100MB（AI模型缓存、临时文件等）
- 支持数据清理和优化功能

**总建议空间**
- 至少预留500MB可用存储空间
- 建议预留1GB以上空间以获得最佳体验
- 支持存储空间检测和提醒功能

**2.1.3 网络连接要求**

**基础功能**
- 支持离线使用，无需网络连接
- 核心功能本地可用
- 支持离线数据缓存

**AI功能**
- 需要稳定的网络连接（Wi-Fi或4G/5G）
- 上传速度：建议≥1Mbps
- 下载速度：建议≥2Mbps
- 支持网络状态检测和提示

**数据同步**
- 需要网络连接进行云端备份和同步
- 支持增量同步机制
- 支持同步冲突解决
- 支持同步进度显示

**应用更新**
- 需要网络连接下载应用更新
- 支持增量更新
- 支持更新进度显示
- 支持更新失败重试

**2.1.4 其他硬件要求**

**相机功能**（可选）
- 支持拍照识别食材
- 需要设备具备相机功能
- 支持闪光灯和自动对焦
- 支持图片质量设置

**麦克风功能**（可选，v1.1.0新增）
- 支持语音输入功能
- 需要设备具备麦克风功能
- 支持降噪处理
- 支持语音质量检测

**定位功能**（可选）
- 支持位置信息记录
- 需要设备具备GPS功能
- 支持位置权限管理
- 支持位置信息加密

### 2.2 软件要求

Fridgy的软件环境要求包括操作系统、权限配置和开发工具等方面：

**2.2.1 操作系统要求**

**Android平台**
- 最低版本：Android 8.0（API Level 26）
- 推荐版本：Android 10.0（API Level 29）及以上
- 支持架构：ARM64-v8a、ARMv7、x86_64
- 特殊要求：需要支持Google Play Services（用于推送通知）

**iOS平台**
- 最低版本：iOS 13.0
- 推荐版本：iOS 15.0及以上
- 支持架构：ARM64
- 特殊要求：需要支持ARKit（用于增强现实功能，可选）

**2.2.2 系统权限要求**

**必需权限**
- 存储权限：用于保存图片和导出数据
- 通知权限：用于推送临期提醒和系统通知

**可选权限**
- 网络权限：用于AI功能和数据同步
- 相机权限：用于拍照识别食材（可选）
- 麦克风权限：用于语音输入功能（可选，v1.1.0新增）
- 定位权限：用于位置信息记录（可选）

**权限处理策略**
- 采用渐进式权限请求，避免一次性请求过多权限
- 提供权限说明和引导，帮助用户理解权限用途
- 支持权限降级，在权限被拒绝时提供替代方案
- 支持权限管理功能，用户可以随时修改权限设置

**2.2.3 依赖库和框架**

**核心框架**
- React Native：0.81.4版本，提供跨平台开发能力
- Expo SDK：54版本，提供丰富的原生功能封装
- React：19.1.0版本，提供UI框架支持

**JavaScript引擎**
- Android：Hermes引擎（推荐）或V8引擎
- iOS：JavaScriptCore引擎
- 支持JIT编译优化

**原生模块**
- 相机模块：expo-image-picker
- 通知模块：expo-notifications
- 文件系统：expo-file-system
- 安全存储：expo-secure-store
- 语音识别：@react-native-voice/voice（v1.1.0新增）

**2.2.4 开发环境要求**（仅开发阶段）

**Node.js环境**
- Node.js：18.0及以上版本
- 包管理器：npm 9.0+、yarn 1.22+或pnpm 8.0+
- 支持ES6+语法特性

**开发工具**
- Expo CLI：最新版本
- React Native CLI：最新版本
- TypeScript：5.9.2版本
- 代码编辑器：推荐VS Code，支持React Native和TypeScript插件

**平台特定工具**
- Android开发：Android Studio、Android SDK（API 26+）
- iOS开发：Xcode 14.0+、iOS SDK 13.0+
- 支持模拟器和真机调试

**2.2.5 第三方服务要求**

**AI服务**
- DeepSeek API：用于智能建议功能
- Zhipu AI API：备选AI服务提供商
- OpenAI API：可选AI服务提供商
- 支持API密钥配置和管理

**推送服务**
- Firebase Cloud Messaging（Android）
- Apple Push Notification Service（iOS）
- 支持推送证书管理

**数据同步服务**
- 可选：Supabase、Firebase或其他云服务
- 支持：本地存储优先，云端同步可选
- 支持数据加密传输

**2.2.6 安全要求**

**数据加密**
- 使用AES-256加密算法保护敏感数据
- 支持加密密钥管理
- 支持加密性能优化

**网络安全**
- 支持HTTPS/TLS 1.3协议
- 支持证书固定
- 支持网络安全配置

**代码保护**
- 生产版本支持代码混淆和反调试
- 支持代码签名验证
- 支持安全审计功能

---

## 3. 软件技术

### 3.1 技术栈

Fridgy采用现代化的技术栈，确保高性能、可维护性和跨平台兼容性：

**3.1.1 前端框架与运行时**

**React 19.1.0**
- 最新版本的React框架，提供最新的特性和性能优化
- 支持函数组件和Hooks
- 支持并发渲染和Suspense
- 支持服务端渲染（SSR）

**React Native 0.81.4**
- 跨平台移动应用开发框架，实现一套代码多平台运行
- 支持原生模块调用
- 支持热更新功能
- 支持性能监控和优化

**Expo SDK 54**
- 提供丰富的原生功能封装和开发工具链
- 支持快速开发和部署
- 支持OTA更新功能
- 支持应用构建和发布

**TypeScript 5.9.2**
- 提供静态类型检查，提高代码质量和开发效率
- 支持类型推断和类型安全
- 支持接口和泛型
- 支持装饰器和元数据

**3.1.2 路由与导航系统**

**expo-router 6.0.7**
- 基于文件系统的路由管理，支持嵌套路由和动态路由
- 支持深度链接
- 支持路由守卫和权限控制
- 支持路由动画和过渡效果

**react-native-screens 4.16.0**
- 原生屏幕管理，提升导航性能
- 支持屏幕生命周期管理
- 支持屏幕堆栈管理
- 支持屏幕转场动画

**react-native-safe-area-context 5.6.0**
- 安全区域管理，适配各种屏幕尺寸
- 支持刘海屏和异形屏适配
- 支持安全区域计算
- 支持安全区域上下文

**3.1.3 UI组件与交互**

**react-native-paper 5.12.0**
- Material Design风格的UI组件库
- 提供丰富的组件和主题支持
- 支持深色模式
- 支持自定义主题

**react-native-gesture-handler 2.28.0**
- 高性能手势处理库，支持滑动删除等手势操作
- 支持多种手势类型
- 支持手势冲突处理
- 支持手势性能优化

**react-native-reanimated 4.1.0**
- 高性能动画库，支持60fps流畅动画
- 支持原生驱动动画
- 支持复杂动画效果
- 支持动画性能监控

**react-native-svg 15.12.1**
- 矢量图形支持，用于图标和图表渲染
- 支持SVG路径和形状
- 支持SVG动画
- 支持SVG性能优化

**expo-linear-gradient 15.0.7**
- 渐变背景支持
- 支持多种渐变类型
- 支持渐变动画
- 支持渐变性能优化

**3.1.4 原生功能模块**

**expo-image-picker 17.0.8**
- 图片选择器，支持相册和拍照
- 支持图片裁剪和压缩
- 支持多图片选择
- 支持图片权限管理

**expo-notifications 0.32.11**
- 本地和远程通知管理
- 支持通知调度和取消
- 支持通知交互
- 支持通知权限管理

**expo-file-system 19.0.14**
- 文件系统操作，支持文件读写
- 支持文件上传和下载
- 支持文件权限管理
- 支持文件缓存管理

**expo-secure-store 15.0.7**
- 安全存储，用于敏感数据加密存储
- 支持密钥管理
- 支持数据加密和解密
- 支持安全存储性能优化

**@react-native-voice/voice 3.2.4**（v1.1.0新增）
- 语音识别功能，支持移动端原生语音识别
- 支持多语言识别
- 支持实时转录
- 支持语音权限管理

**expo-application 7.0.7**（v1.1.0新增）
- 应用信息获取，用于版本检查和更新
- 支持版本号获取
- 支持应用信息查询
- 支持应用更新检测

**3.1.5 状态管理与数据存储**

**zustand 4.4.0**
- 轻量级状态管理库，提供简洁的API
- 支持状态持久化
- 支持中间件扩展
- 支持状态性能优化

**@react-native-async-storage/async-storage 2.2.0**
- 异步存储，用于本地数据持久化
- 支持键值对存储
- 支持数据加密
- 支持存储性能优化

**@react-native-community/datetimepicker 8.4.4**
- 日期时间选择器
- 支持多种日期格式
- 支持日期范围选择
- 支持日期权限管理

**@react-native-community/netinfo 11.4.1**
- 网络状态检测
- 支持网络类型检测
- 支持网络状态监听
- 支持网络状态缓存

**3.1.6 工具库与辅助功能**

**date-fns 2.30.0**
- 现代JavaScript日期处理库
- 支持多种日期格式
- 支持日期计算和比较
- 支持时区处理

**axios 1.12.2**
- HTTP客户端库，用于网络请求
- 支持请求和响应拦截
- 支持请求取消
- 支持请求重试

**react-native-chart-kit 6.12.0**
- 图表库，用于数据可视化
- 支持多种图表类型
- 支持图表交互
- 支持图表性能优化

**3.1.7 开发工具与质量保证**

**ESLint 8.0.0**
- 代码质量检查工具
- 支持自定义规则
- 支持自动修复
- 支持代码风格检查

**Prettier 3.0.0**
- 代码格式化工具
- 支持多种代码格式
- 支持配置文件
- 支持编辑器集成

**Jest 29.0.0**
- 单元测试框架
- 支持快照测试
- 支持异步测试
- 支持代码覆盖率

**TypeScript ESLint**
- TypeScript代码检查
- 支持类型检查
- 支持代码质量检查
- 支持自动修复

**3.1.8 构建与部署**

**EAS Build**
- Expo应用构建服务
- 支持Android和iOS构建
- 支持构建配置管理
- 支持构建日志查看

**Metro**
- React Native打包工具
- 支持代码分割
- 支持资源优化
- 支持热更新

**Hermes**
- JavaScript引擎（Android）
- 支持JIT编译
- 支持内存优化
- 支持性能优化

### 3.2 架构设计

Fridgy采用分层架构设计，确保代码的可维护性、可扩展性和高性能：

**3.2.1 整体架构模式**

**分层架构**
- 采用经典的分层架构模式，将应用分为表现层、业务逻辑层、数据访问层
- 各层职责清晰，便于维护和扩展
- 支持层间解耦和独立测试

**模块化设计**
- 每个功能模块独立开发，通过接口进行交互
- 支持模块热插拔和动态加载
- 支持模块版本管理

**组件化开发**
- UI组件高度复用，减少代码冗余
- 支持组件库管理
- 支持组件文档生成

**插件化扩展**
- 预留扩展接口，支持功能模块的动态加载
- 支持插件管理和配置
- 支持插件版本控制

3.2.2 目录结构与职责划分

src/
├── app/                    # 应用入口和路由配置
│   ├── _layout.tsx        # 根布局组件
│   ├── index.tsx          # 首页
│   └── (tabs)/            # Tab导航页面
│       ├── index.tsx      # 主页面（食材列表）
│       ├── overview/      # 概览页面
│       ├── statistics/    # 统计页面
│       ├── settings/      # 设置页面
│       └── SwipeLayout.tsx # 滑动布局
├── components/            # 可复用UI组件
│   ├── ui/               # 基础UI组件
│   │   ├── SwipeToDelete.tsx    # 滑动删除组件（v1.1.0新增）
│   │   ├── ClearDataModal.tsx    # 数据清理模态框（v1.1.0新增）
│   │   ├── LongPressDelete.tsx   # 长按删除组件（v1.1.0新增）
│   │   ├── Button.tsx            # 按钮组件
│   │   ├── Card.tsx              # 卡片组件
│   │   └── Badge.tsx             # 徽章组件
│   ├── ingredients/      # 食材相关组件
│   │   ├── IngredientCard.tsx    # 食材卡片组件
│   │   ├── QuickAddModal.tsx     # 快速添加模态框
│   │   ├── EditIngredientModal.tsx # 编辑食材模态框
│   │   └── VoiceInputButton.tsx  # 语音输入按钮（v1.1.0新增）
│   ├── ai/               # AI功能组件
│   │   ├── AIAnalysisModal.tsx   # AI分析模态框
│   │   ├── CookingAdviceModal.tsx # 烹饪建议模态框
│   │   └── SeasonalFruitsCard.tsx # 当季水果卡片（v1.1.0新增）
│   ├── version/          # 版本管理组件（v1.1.0新增）
│   │   └── VersionUpdateModal.tsx # 版本更新模态框
│   ├── navigation/       # 导航组件
│   │   ├── SwipeTabNavigator.tsx # 滑动导航
│   │   ├── SwipePagesContainer.tsx # 滑动页面容器
│   │   └── SwipeAnimationWrapper.tsx # 滑动动画包装器
│   └── onboarding/      # 引导页面
│       └── OnboardingScreen.tsx   # 引导屏幕
├── services/             # 业务服务层
│   ├── ai/               # AI服务适配
│   │   ├── aiManager.ts          # AI管理器
│   │   ├── zhipu.ts              # 智谱AI服务
│   │   ├── deepseek.ts           # DeepSeek AI服务
│   │   ├── deepseek-mock.ts      # DeepSeek模拟服务
│   │   ├── prompts.ts            # 提示词模板
│   │   └── seasonalFruits.ts     # 当季水果服务（v1.1.0新增）
│   ├── api/              # API接口服务
│   │   ├── index.ts              # API入口
│   │   └── ingredients.ts       # 食材API
│   ├── notifications/    # 通知服务
│   │   ├── index.ts              # 通知服务入口
│   │   ├── scheduler.ts         # 通知调度器
│   │   ├── permissions.ts       # 通知权限管理
│   │   ├── statusMonitor.ts     # 状态监控
│   │   ├── seasonalFruitsScheduler.ts # 季节性通知调度（v1.1.0新增）
│   │   └── conditionalImport.ts # 条件导入
│   ├── data/             # 数据服务（v1.1.0新增）
│   │   ├── index.ts              # 数据服务入口
│   │   └── dataClearService.ts   # 数据清理服务
│   ├── version/          # 版本管理服务（v1.1.0新增）
│   │   ├── versionChecker.ts    # 版本检查服务
│   │   └── versionTest.ts       # 版本测试
│   ├── rating/           # 应用评分服务（v1.1.0新增）
│   │   ├── index.ts              # 评分服务入口
│   │   └── appRating.ts         # 评分管理
│   ├── permissions/       # 权限服务
│   │   └── index.ts              # 权限管理
│   └── speech/           # 语音识别服务（v1.1.0新增）
├── store/                # 状态管理
│   ├── index.ts          # 状态管理入口
│   ├── ingredients/      # 食材状态
│   │   ├── slice.ts              # 食材状态切片
│   │   └── types.ts              # 食材类型定义
│   └── settings/         # 设置状态
│       └── slice.ts              # 设置状态切片
├── hooks/                # 自定义Hooks（v1.1.0新增）
│   └── useSpeechRecognition.ts  # 语音识别Hook
└── utils/                # 工具函数
    ├── constants/        # 常量定义
    │   ├── index.ts              # 常量入口
    │   ├── colors.ts             # 颜色常量
    │   ├── categories.ts         # 品类常量
    │   ├── units.ts              # 单位常量
    │   └── locations.ts          # 位置常量
    ├── helpers/          # 辅助函数
    │   ├── index.ts              # 辅助函数入口
    │   ├── date.ts               # 日期处理
    │   ├── formatting.ts         # 格式化函数
    │   ├── validation.ts        # 验证函数
    │   ├── environment.ts       # 环境检测
    │   └── sampleData.ts        # 示例数据
    ├── types/            # 类型定义
    │   └── ingredient.ts        # 食材类型
    └── i18n/             # 国际化
        └── index.ts              # 国际化配置

**3.2.3 表现层（Presentation Layer）**

**页面组件**
- `src/app/**`，基于expo-router的文件系统路由
- 概览页面：展示食材总览和关键指标
- 主页面：食材列表和快速添加
- 统计页面：数据可视化和分析报告
- 设置页面：用户偏好和应用配置

**UI组件**
- `src/components/**`，高度复用的界面组件
- 基础组件：Button、Card、Badge等通用组件
- 业务组件：IngredientCard、EditModal、AIModal等
- 复合组件：结合多个基础组件的复杂界面

**3.2.4 业务逻辑层（Business Logic Layer）**

**服务层**
- `src/services/**`，封装业务逻辑和外部服务
- AI服务：统一AI接口，支持多模型切换
- API服务：网络请求和数据同步
- 通知服务：本地通知调度和管理
- 权限服务：系统权限请求和处理
- 数据服务：数据清理和管理（v1.1.0新增）
- 版本服务：版本检查和更新（v1.1.0新增）
- 评分服务：应用评分管理（v1.1.0新增）
- 语音服务：语音识别和处理（v1.1.0新增）

**状态管理**
- `src/store/**`，使用Zustand管理应用状态
- 食材状态：食材列表、筛选条件、编辑状态
- 设置状态：用户偏好、提醒策略、主题设置
- 全局状态：网络状态、加载状态、错误信息

**3.2.5 数据访问层（Data Access Layer）**

**本地存储**
- AsyncStorage和SecureStore
- 食材数据：存储在AsyncStorage中
- 敏感信息：使用SecureStore加密存储
- 缓存数据：临时数据和图片缓存

**网络服务**
- API调用和数据同步
- RESTful API：标准HTTP接口
- 数据同步：增量同步和冲突解决
- 离线支持：本地优先，网络补充

**3.2.6 通知调度系统**

**调度策略**
- 基于食材到期日计算提醒时间
- 支持多级提醒（临期前3天、1天、到期日）
- 用户可自定义提醒时间和方式
- 支持季节性通知调度（v1.1.0新增）

**通知管理**
- 应用启动时重建通知计划
- 数据变更时更新相关通知
- 系统重启后通过引导恢复通知
- 支持通知历史记录

**权限处理**
- 渐进式权限请求
- 权限被拒绝时的降级方案
- 用户友好的权限说明
- 支持权限状态查询

**3.2.7 AI适配架构**

**统一接口**
- `services/ai`定义标准接口
- analyze：食材分析接口
- advise：建议生成接口
- 统一的输入输出格式

**多模型支持**
- DeepSeek：主要AI服务提供商
- Zhipu：备选AI服务提供商
- Mock：离线演示和测试
- 支持模型热切换

**智能切换**
- 根据网络状态自动切换
- 用户可手动选择AI模型
- 支持运行时热切换
- 支持模型性能监控

**3.2.8 异常处理与容错机制**

**权限处理**
- 相机权限：提供手动输入替代方案
- 通知权限：使用应用内提醒作为备选
- 存储权限：提供数据导出功能
- 语音权限：提供手动输入替代方案（v1.1.0新增）

**网络异常**
- 离线模式：核心功能本地可用
- 重试机制：网络恢复后自动重试
- 用户提示：清晰的错误信息和解决建议
- 支持网络状态监听

**数据异常**
- 数据校验：输入数据格式验证
- 数据恢复：损坏数据的自动修复
- 备份机制：定期数据备份和恢复
- 支持数据完整性检查

### 3.3 数据模型

Fridgy采用以"食材"为中心的数据模型设计，确保数据的完整性和扩展性：

**3.3.1 核心实体模型**

Ingredient（食材实体）

interface Ingredient {
  // 基础标识
  id: string;                    // 唯一标识符（UUID）
  user_id: string;               // 用户ID
  name: string;                  // 食材名称
  
  // 分类信息
  category: string;              // 品类分类（蔬菜、肉类、乳制品等）
  
  // 存储信息
  location: string;              // 存放位置（冷藏、冷冻、常温等）
  
  // 数量与单位
  quantity: number;              // 数量
  unit: string;                  // 计量单位（个、g、ml、袋、盒等）
  
  // 时间信息
  purchase_date: string;         // 采购日期
  expiration_date: string;       // 到期/最佳食用日期
  created_at: string;            // 创建时间
  updated_at: string;            // 更新时间
  
  // 媒体信息
  images: string[];              // 食材图片URI数组
  notes?: string;                // 备注信息
  
  // 状态信息
  status: 'fresh' | 'near_expiry' | 'expired' | 'used';  // 当前状态
  freshness_score: number;       // 新鲜度评分（0-100）
}

**3.3.2 辅助数据模型**

Category（品类模型）

interface Category {
  id: string;
  name: string;                  // 品类名称
  icon: string;                  // 图标标识
  color: string;                 // 主题颜色
  defaultExpiryDays: number;     // 默认保质期天数
  storageLocation: string;       // 默认存储位置
  isActive: boolean;             // 是否启用
}

Unit（单位模型）

interface Unit {
  id: string;
  name: string;                  // 单位名称
  symbol: string;                // 单位符号
  type: 'weight' | 'volume' | 'count' | 'length';  // 单位类型
  conversionFactor?: number;     // 转换系数（可选）
}

Location（位置模型）

interface Location {
  id: string;
  name: string;                  // 位置名称
  icon: string;                  // 图标标识
  color: string;                 // 主题颜色
  temperature?: number;          // 温度（可选）
  humidity?: number;             // 湿度（可选）
  isActive: boolean;             // 是否启用
}

NotificationRule（通知规则模型）

interface NotificationRule {
  id: string;
  name: string;                  // 规则名称
  daysBeforeExpiry: number;      // 到期前天数
  isEnabled: boolean;            // 是否启用
  message: string;               // 通知消息模板
  soundEnabled: boolean;         // 是否启用声音
  vibrationEnabled: boolean;     // 是否启用震动
}

**3.3.3 状态计算逻辑**

状态判定算法

function calculateIngredientStatus(
  ingredient: Ingredient
): 'fresh' | 'near_expiry' | 'expired' | 'used' {
  const today = new Date();
  const expireDate = new Date(ingredient.expiration_date);
  const daysUntilExpiry = Math.ceil(
    (expireDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24)
  );
  
  if (ingredient.status === 'used') {
    return 'used';  // 已使用
  } else if (daysUntilExpiry < 0) {
    return 'expired';  // 已过期
  } else if (daysUntilExpiry <= 3) {  // 3天内到期
    return 'near_expiry';  // 临期
  } else {
    return 'fresh';  // 新鲜
  }
}

新鲜度评分算法

function calculateFreshnessScore(
  ingredient: Ingredient
): number {
  const today = new Date();
  const expireDate = new Date(ingredient.expiration_date);
  const purchaseDate = new Date(ingredient.purchase_date);
  const totalDays = Math.ceil(
    (expireDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24)
  );
  const remainingDays = Math.ceil(
    (expireDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24)
  );
  
  if (remainingDays < 0) {
    return 0;  // 已过期
  }
  
  // 计算新鲜度百分比
  const score = Math.max(0, Math.min(100, (remainingDays / totalDays) * 100));
  return Math.round(score);
}

**3.3.4 数据关系设计**

**一对多关系**
- 一个用户可以有多个食材记录
- 一个品类可以对应多个食材
- 一个食材可以有多个通知记录
- 一个位置可以存放多个食材

**多对多关系**
- 食材与标签：一个食材可以有多个标签，一个标签可以对应多个食材
- 食材与菜谱：一个食材可以用于多个菜谱，一个菜谱可以包含多个食材

**3.3.5 数据验证规则**

**输入验证**
- 食材名称：必填，长度1-50字符
- 数量：必填，大于0的数值
- 到期日期：必填，不能早于当前日期
- 品类：必填，必须从预定义列表中选择
- 存储位置：必填，必须从预定义列表中选择

**业务规则**
- 开封后的食材保质期自动缩短
- 临期食材优先显示在列表顶部
- 过期食材自动标记但保留记录
- 重复食材自动合并或提示

**3.3.6 数据索引策略**

**主要索引**
- 食材ID：主键索引
- 用户ID：外键索引
- 状态：状态索引，用于快速筛选
- 到期日期：日期索引，用于排序和提醒

**复合索引**
- 用户ID + 状态：用于用户状态筛选
- 用户ID + 到期日期：用于用户到期排序
- 品类 + 状态：用于品类状态统计

**3.3.7 数据存储策略**

**本地存储**
- 使用AsyncStorage存储食材数据
- 使用SecureStore存储敏感信息
- 支持数据加密存储
- 支持数据压缩存储

**云端同步**（可选）
- 支持增量同步
- 支持冲突解决
- 支持数据备份
- 支持数据恢复

### 3.4 软件功能

Fridgy提供全面的食材管理功能，涵盖从录入到使用的完整流程：

**3.4.1 食材管理功能**

**食材录入**
- 支持手动输入食材信息
- 支持语音输入快速添加（v1.1.0新增）
- 支持快速添加模板
- 支持批量导入功能
- 支持图片上传功能

**食材编辑**
- 支持编辑食材信息
- 支持长按快速编辑
- 支持批量编辑功能
- 支持编辑历史记录

**食材删除**
- 支持单个删除功能
- 支持滑动删除功能（v1.1.0新增）
- 支持批量删除功能
- 支持删除确认机制
- 支持删除撤销功能（可选）

**食材查询**
- 支持名称搜索功能
- 支持多条件筛选功能
- 支持状态筛选功能
- 支持位置筛选功能
- 支持品类筛选功能

**3.4.2 状态管理功能**

**自动状态计算**
- 基于当前时间和保质期自动计算状态
- 支持状态自动更新
- 支持状态历史记录
- 支持状态统计功能

**状态可视化**
- 通过颜色标识展示状态
- 支持状态标签显示
- 支持状态筛选功能
- 支持状态统计图表

**3.4.3 提醒通知功能**

**本地通知**
- 支持临期提醒通知
- 支持过期提醒通知
- 支持自定义提醒时间
- 支持通知内容自定义

**季节性通知**（v1.1.0新增）
- 支持当季水果推荐通知
- 支持定时更新功能
- 支持通知开关控制
- 支持通知历史记录

**通知管理**
- 支持通知权限管理
- 支持通知设置配置
- 支持通知历史查看
- 支持通知清除功能

**3.4.4 数据统计功能**

**概览统计**
- 显示食材总数统计
- 显示各状态食材数量
- 显示品类分布统计
- 显示位置分布统计

**趋势分析**
- 支持使用趋势分析
- 支持浪费趋势分析
- 支持采购趋势分析
- 支持多时间段对比

**图表展示**
- 支持饼图展示
- 支持柱状图展示
- 支持折线图展示
- 支持图表交互功能

**3.4.5 AI智能功能**

**存储分析**
- 分析食材最佳存储时间和方法
- 提供存储条件建议
- 支持存储时间预测
- 支持存储方法推荐

**烹饪建议**
- 基于现有食材推荐菜谱
- 提供详细制作步骤
- 支持多菜谱推荐
- 支持菜谱收藏功能

**营养搭配**
- 根据营养学原理推荐食材搭配
- 支持营养目标设置
- 支持营养分析功能
- 支持营养建议功能

**当季水果推荐**（v1.1.0新增）
- 结合时令特点推荐应季水果
- 提供营养价值信息
- 提供保存技巧建议
- 支持手动刷新功能

**3.4.6 数据管理功能**

**数据导出**
- 支持CSV格式导出
- 支持JSON格式导出
- 支持导出模板下载
- 支持导出进度显示

**数据导入**
- 支持CSV格式导入
- 支持导入验证功能
- 支持导入错误提示
- 支持导入预览功能

**数据清理**（v1.1.0新增）
- 支持选择性数据清理
- 支持安全确认机制
- 支持进度可视化
- 支持清理历史记录

**数据备份**
- 支持数据备份功能
- 支持备份恢复功能
- 支持备份历史记录
- 支持备份自动执行

**3.4.7 设置管理功能**

**用户设置**
- 支持语言设置
- 支持主题设置
- 支持通知设置
- 支持提醒设置

**字典管理**
- 支持品类管理
- 支持单位管理
- 支持位置管理
- 支持标签管理

**应用设置**
- 支持版本检查（v1.1.0新增）
- 支持应用更新（v1.1.0新增）
- 支持应用评分（v1.1.0新增）
- 支持隐私设置

**3.4.8 其他功能**

**多语言支持**
- 支持8种语言界面
- 支持语言自动检测
- 支持语言手动切换
- 支持语言设置保存

**权限管理**
- 支持权限请求功能
- 支持权限说明功能
- 支持权限管理功能
- 支持权限拒绝处理

**版本管理**（v1.1.0新增）
- 支持版本检查功能
- 支持强制更新模式
- 支持应用商店跳转
- 支持更新日志展示

**应用评分**（v1.1.0新增）
- 支持应用评分功能
- 支持评分提醒
- 支持评分历史记录

---

## 结语

Fridgy智能食材管理应用V1.1.0版本在V1.0.0版本的基础上，新增了语音识别、AI智能分析、当季水果推荐、滑动删除、数据清理、版本管理等多项功能，进一步完善了食材管理的全流程体验。通过现代化的技术架构和人性化的交互设计，Fridgy致力于帮助用户建立科学的食材管理体系，减少食物浪费，提升生活品质。

本用户手册详细介绍了软件的功能特性、运行环境和技术架构，为用户和评审人员提供了全面的软件信息。我们相信，通过持续的技术创新和用户体验优化，Fridgy将成为用户最贴心的食材管理助手。

---

文档版本：V1.1.0
最后更新：2024年
版权所有：Fridgy开发团队

